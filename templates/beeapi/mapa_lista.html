<div class="container">

  <div class="modal-header">
      <div class="col-md-4">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Mapas - (MP: {{mapa.id}})</h1>
      </div>
      <div class="col-md-8 d-flex gap-2" role="group" aria-label="Status">
        <button type="button" class="btn btn-outline-light">Total: {{total}}</button>
        <button type="button" class="btn btn-outline-success">Total Ativo: {{total_ativo}}</button>
        <button type="button" class="btn btn-outline-danger">Total Inativo: {{total_desativado}}</button>
      </div>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
  <div class="d-flex justify-content-between align-items-center mb-3 mt-3 pe-1 ps-1">
    <h5 class="mb-0">Tabela de Mapas</h5>
    <button hx-get="{% url 'mapa_add' %}" hx-target="#modal-content" hx-swap="innerHTML" class="btn btn-success" title="Adicionar">
            <i class="fa fa-plus"></i>
            Adicionar
    </button>
  </div>
  <div id="tabela">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nome</th>
          <th scope="col">Servidor</th>
          <th scope="col">Status</th>
          <th scope="col">Padrão</th>
          <th class="text-center" scope="col">Ações</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        {% for mapa in page_obj %}
        <tr>
          <th scope="row">{{mapa.id}}</th>
          <td>{{mapa.nome}}</td>
          <td>{{mapa.servidor}}</td>
          {% if mapa.status %}
            <td>Habilitado✅</td>
          {% else %}
          <td>Desabilitado❌</td>
          {% endif %}
          {% if mapa.default %}
          <td>Sim ✅</td>
          {% else %}
          <td>Não</td>
          {% endif %}
            <td class="text-center">
                <button onclick="trocarMapa('{{mapa.id}}')" data-bs-dismiss="modal" class="btn btn-success btn-sm" title="Visualizar">
                    <i class="fa fa-eye"></i>
                </button>
                <button hx-get="{% url 'mapa_editar' mapa.id %}" hx-target="#modal-content" hx-swap="innerHTML" class="btn btn-primary btn-sm" title="Editar">
                    <i class="fa fa-edit"></i>
                </button>
            </td>
        </tr>
        {% endfor %}
      </tbody>

    </table>

    <div>
      {% if page_obj.has_previous %}
        <button class="btn btn-secondary btn-sm"
          hx-get="{% url 'node_listagem' %}?page={{ page_obj.previous_page_number }}"
          hx-target="#tabela"
          hx-include="#mapaid"
          hx-swap="innerHTML">
          <i class="fa-solid fa-backward"></i>
        </button>
      {% endif %}

      <span>Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
      {% if page_obj.has_next %}
        <button class="btn btn-secondary btn-sm"
          hx-get="{% url 'node_listagem' %}?page={{ page_obj.next_page_number }}"
          hx-target="#tabela"
          hx-include="#mapaid"
          hx-swap="innerHTML">
          <i class="fa-solid fa-forward"></i>
        </button>
      {% endif %}

    </div>

  </div>

  <p>

</div>